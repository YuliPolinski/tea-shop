"use strict";(self.webpackChunktea_shop=self.webpackChunktea_shop||[]).push([[343],{5343:(Q,m,o)=>{o.r(m),o.d(m,{OrderModule:()=>z});var s=o(6895),t=o(433),c=o(4466),d=o(646),u=o(8256),p=o(6854);function _(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "),u.qZA())}function f(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u041c\u043e\u0436\u043d\u043e \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function g(e,r){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,_,2,0,"div",21),u.YNc(2,f,2,0,"div",21),u.qZA()),2&e){const n=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.name||null==n.name.errors?null:n.name.errors.pattern)}}function v(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "),u.qZA())}function h(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u041c\u043e\u0436\u043d\u043e \u0432\u0432\u043e\u0434\u0438\u0442\u044c \u0442\u043e\u043b\u044c\u043a\u043e \u0431\u0443\u043a\u0432\u044b "),u.qZA())}function x(e,r){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,v,2,0,"div",21),u.YNc(2,h,2,0,"div",21),u.qZA()),2&e){const n=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==n.last_name||null==n.last_name.errors?null:n.last_name.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.last_name||null==n.last_name.errors?null:n.last_name.errors.pattern)}}function Z(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "),u.qZA())}function C(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043a\u043e\u0440\u0440\u0435\u043a\u0442\u043d\u044b\u0439 \u043d\u043e\u043c\u0435\u0440: 11 \u0446\u0438\u0444\u0440, \u043c\u043e\u0436\u0435\u0442 \u043d\u0430\u0447\u0438\u043d\u0430\u0442\u044c\u0441\u044f \u0441 + "),u.qZA())}function A(e,r){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,Z,2,0,"div",21),u.YNc(2,C,2,0,"div",21),u.qZA()),2&e){const n=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==n.phone||null==n.phone.errors?null:n.phone.errors.required),u.xp6(1),u.Q6J("ngIf",!(null!=n.phone&&null!=n.phone.errors&&n.phone.errors.required)&&(null==n.phone||null==n.phone.errors?null:n.phone.errors.invalidPhone))}}function T(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "),u.qZA())}function b(e,r){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,T,2,0,"div",21),u.qZA()),2&e){const n=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==n.country||null==n.country.errors?null:n.country.errors.required)}}function y(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "),u.qZA())}function q(e,r){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,y,2,0,"div",21),u.qZA()),2&e){const n=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==n.zip||null==n.zip.errors?null:n.zip.errors.required)}}function E(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u0417\u0430\u043f\u043e\u043b\u043d\u0438\u0442\u0435 \u043f\u043e\u043b\u0435 "),u.qZA())}function F(e,r){1&e&&(u.TgZ(0,"div",22),u._uU(1," \u0410\u0434\u0440\u0435\u0441 \u043c\u043e\u0436\u0435\u0442 \u0441\u043e\u0434\u0435\u0440\u0436\u0430\u0442\u044c \u0431\u0443\u043a\u0432\u044b, \u0446\u0438\u0444\u0440\u044b, \u043f\u0440\u043e\u0431\u0435\u043b\u044b, \u0434\u0435\u0444\u0438\u0441 \u0438 \u0441\u043b\u0435\u0448 "),u.qZA())}function O(e,r){if(1&e&&(u.TgZ(0,"div"),u.YNc(1,E,2,0,"div",21),u.YNc(2,F,2,0,"div",21),u.qZA()),2&e){const n=u.oxw(2);u.xp6(1),u.Q6J("ngIf",null==n.address||null==n.address.errors?null:n.address.errors.required),u.xp6(1),u.Q6J("ngIf",null==n.address||null==n.address.errors?null:n.address.errors.pattern)}}function I(e,r){1&e&&(u.TgZ(0,"div",23),u._uU(1," \u041f\u0440\u043e\u0438\u0437\u043e\u0448\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0451 \u0440\u0430\u0437. "),u.qZA())}const i=function(e){return{"is-invalid":e}};function B(e,r){if(1&e){const n=u.EpF();u.TgZ(0,"form",4),u.NdJ("ngSubmit",function(){u.CHM(n);const a=u.oxw();return u.KtG(a.submitOrder())}),u.TgZ(1,"div",5)(2,"label",6),u._uU(3,"\u0422\u043e\u0432\u0430\u0440"),u.qZA(),u._UZ(4,"input",7),u.qZA(),u.TgZ(5,"div",8)(6,"label",9),u._uU(7,"\u0418\u043c\u044f"),u.qZA(),u._UZ(8,"input",10),u.YNc(9,g,3,2,"div",11),u.qZA(),u.TgZ(10,"div",8)(11,"label",6),u._uU(12,"\u0424\u0430\u043c\u0438\u043b\u0438\u044f"),u.qZA(),u._UZ(13,"input",12),u.YNc(14,x,3,2,"div",11),u.qZA(),u.TgZ(15,"div",8)(16,"label",6),u._uU(17,"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"),u.qZA(),u._UZ(18,"input",13),u.YNc(19,A,3,2,"div",11),u.qZA(),u.TgZ(20,"div",8)(21,"label",6),u._uU(22,"\u0421\u0442\u0440\u0430\u043d\u0430"),u.qZA(),u._UZ(23,"input",14),u.YNc(24,b,2,1,"div",11),u.qZA(),u.TgZ(25,"div",8)(26,"label",6),u._uU(27,"\u0418\u043d\u0434\u0435\u043a\u0441"),u.qZA(),u._UZ(28,"input",15),u.YNc(29,q,2,1,"div",11),u.qZA(),u.TgZ(30,"div",8)(31,"label",6),u._uU(32,"\u0410\u0434\u0440\u0435\u0441"),u.qZA(),u._UZ(33,"input",16),u.YNc(34,O,3,2,"div",11),u.qZA(),u.TgZ(35,"div",5)(36,"label",6),u._uU(37,"\u041a\u043e\u043c\u043c\u0435\u043d\u0442\u0430\u0440\u0438\u0439 \u043a \u0437\u0430\u043a\u0430\u0437\u0443"),u.qZA(),u._UZ(38,"textarea",17),u.qZA(),u.TgZ(39,"div",18)(40,"button",19),u._uU(41),u.qZA(),u.YNc(42,I,2,0,"div",20),u.qZA()()}if(2&e){const n=u.oxw();u.Q6J("formGroup",n.orderForm),u.xp6(8),u.Q6J("ngClass",u.VKq(16,i,(null==n.name?null:n.name.invalid)&&((null==n.name?null:n.name.touched)||(null==n.name?null:n.name.dirty)))),u.xp6(1),u.Q6J("ngIf",(null==n.name?null:n.name.invalid)&&((null==n.name?null:n.name.touched)||(null==n.name?null:n.name.dirty))),u.xp6(4),u.Q6J("ngClass",u.VKq(18,i,(null==n.last_name?null:n.last_name.invalid)&&((null==n.last_name?null:n.last_name.touched)||(null==n.last_name?null:n.last_name.dirty)))),u.xp6(1),u.Q6J("ngIf",(null==n.last_name?null:n.last_name.invalid)&&((null==n.last_name?null:n.last_name.touched)||(null==n.last_name?null:n.last_name.dirty))),u.xp6(4),u.Q6J("ngClass",u.VKq(20,i,(null==n.phone?null:n.phone.invalid)&&((null==n.phone?null:n.phone.touched)||(null==n.phone?null:n.phone.dirty)))),u.xp6(1),u.Q6J("ngIf",(null==n.phone?null:n.phone.touched)||(null==n.phone?null:n.phone.dirty)),u.xp6(4),u.Q6J("ngClass",u.VKq(22,i,(null==n.country?null:n.country.invalid)&&((null==n.country?null:n.country.touched)||(null==n.country?null:n.country.dirty)))),u.xp6(1),u.Q6J("ngIf",(null==n.country?null:n.country.invalid)&&((null==n.country?null:n.country.touched)||(null==n.country?null:n.country.dirty))),u.xp6(4),u.Q6J("ngClass",u.VKq(24,i,(null==n.zip?null:n.zip.invalid)&&((null==n.zip?null:n.zip.touched)||(null==n.zip?null:n.zip.dirty)))),u.xp6(1),u.Q6J("ngIf",(null==n.zip?null:n.zip.invalid)&&((null==n.zip?null:n.zip.touched)||(null==n.zip?null:n.zip.dirty))),u.xp6(4),u.Q6J("ngClass",u.VKq(26,i,(null==n.address?null:n.address.invalid)&&((null==n.address?null:n.address.touched)||(null==n.address?null:n.address.dirty)))),u.xp6(1),u.Q6J("ngIf",(null==n.address?null:n.address.invalid)&&((null==n.address?null:n.address.touched)||(null==n.address?null:n.address.dirty))),u.xp6(6),u.Q6J("disabled",n.isSubmitting),u.xp6(1),u.Oqu(n.isSubmitting?"\u041e\u0442\u043f\u0440\u0430\u0432\u043a\u0430...":"\u041e\u0442\u043f\u0440\u0430\u0432\u0438\u0442\u044c"),u.xp6(1),u.Q6J("ngIf",n.submissionError)}}function J(e,r){1&e&&(u.TgZ(0,"div",24)(1,"div",25)(2,"h2",26),u._uU(3,"\u0421\u043f\u0430\u0441\u0438\u0431\u043e \u0437\u0430 \u0437\u0430\u043a\u0430\u0437!"),u.qZA(),u.TgZ(4,"p",27),u._uU(5,"\u041c\u044b \u0441\u043a\u043e\u0440\u043e \u0441 \u0432\u0430\u043c\u0438 \u0441\u0432\u044f\u0436\u0435\u043c\u0441\u044f \u0434\u043b\u044f \u043f\u043e\u0434\u0442\u0432\u0435\u0440\u0436\u0434\u0435\u043d\u0438\u044f."),u.qZA(),u.TgZ(6,"a",28),u._uU(7,"\u041d\u0430 \u0433\u043b\u0430\u0432\u043d\u0443\u044e"),u.qZA()()())}const U=[{path:"",component:(()=>{class e{constructor(n,l){this.fb=n,this.orderService=l,this.formSubmitted=!1,this.submissionError=!1,this.isSubmitting=!1,this.productTitle="",this.orderForm=this.fb.group({name:["",[t.kI.required,t.kI.pattern(/^[\u0410-\u042f\u0430-\u044f\u0401\u0451A-Za-z\s]+$/)]],last_name:["",[t.kI.required,t.kI.pattern(/^[\u0410-\u042f\u0430-\u044f\u0401\u0451A-Za-z\s]+$/)]],phone:["",[t.kI.required,this.phoneValidator]],country:["",t.kI.required],zip:["",t.kI.required],address:["",[t.kI.required,t.kI.pattern(/^[A-Za-z\u0410-\u042f\u0430-\u044f0-9\s\-\/]+$/)]],product:[{value:"",disabled:!0}],comment:[""]})}phoneValidator(n){const l=n.value||"",a=l.replace(/\D/g,"");return/^\+?\d+$/.test(l)&&11===a.length?null:{invalidPhone:!0}}get name(){return this.orderForm.get("name")}get last_name(){return this.orderForm.get("last_name")}get phone(){return this.orderForm.get("phone")}get country(){return this.orderForm.get("country")}get zip(){return this.orderForm.get("zip")}get address(){return this.orderForm.get("address")}ngOnInit(){const n=localStorage.getItem("productTitle");n&&(this.productTitle=n,this.orderForm.get("product")?.setValue(n))}submitOrder(){if(this.orderForm.invalid)return void this.orderForm.markAllAsTouched();this.isSubmitting=!0;const n=this.orderForm.getRawValue();this.orderService.submitOrder(n).subscribe({next:l=>{this.isSubmitting=!1,1===l.success?this.formSubmitted=!0:(this.submissionError=!0,setTimeout(()=>this.submissionError=!1,3e3))},error:()=>{this.isSubmitting=!1,this.submissionError=!0,setTimeout(()=>this.submissionError=!1,3e3)}})}}return e.\u0275fac=function(n){return new(n||e)(u.Y36(t.qu),u.Y36(p.p))},e.\u0275cmp=u.Xpm({type:e,selectors:[["app-order"]],decls:4,vars:2,consts:[[1,"container","pb-5","d-flex","flex-column","justify-content-between"],[1,"mt-5"],["class","row g-4 w-100 mx-auto","style","max-width: 720px;",3,"formGroup","ngSubmit",4,"ngIf"],["class","d-flex justify-content-center align-items-center min-vh-100 bg-light",4,"ngIf"],[1,"row","g-4","w-100","mx-auto",2,"max-width","720px",3,"formGroup","ngSubmit"],[1,"col-12"],[1,"form-label"],["type","text","formControlName","product",1,"form-control","bg-light"],[1,"col-md-6"],["for","form-name",1,"form-label"],["type","text","id","form-name","formControlName","name",1,"form-control",3,"ngClass"],[4,"ngIf"],["type","text","formControlName","last_name",1,"form-control",3,"ngClass"],["type","tel","formControlName","phone",1,"form-control",3,"ngClass"],["type","text","formControlName","country",1,"form-control",3,"ngClass"],["type","text","formControlName","zip",1,"form-control",3,"ngClass"],["type","text","formControlName","address",1,"form-control",3,"ngClass"],["formControlName","comment","rows","3",1,"form-control"],[1,"col-12","text-center","mt-3"],["type","submit",1,"btn","btn-primary","btn-lg","px-5",3,"disabled"],["class","text-danger mt-2",4,"ngIf"],["class","invalid-feedback",4,"ngIf"],[1,"invalid-feedback"],[1,"text-danger","mt-2"],[1,"d-flex","justify-content-center","align-items-center","min-vh-100","bg-light"],[1,"text-center","p-5","bg-white","rounded-4","shadow","border","border-primary-subtle"],[1,"text-primary","fw-bold","mb-3"],[1,"text-muted"],["routerLink","/",1,"btn","btn-outline-primary","mt-4"]],template:function(n,l){1&n&&(u.TgZ(0,"div",0)(1,"div",1),u.YNc(2,B,43,28,"form",2),u.qZA(),u.YNc(3,J,8,0,"div",3),u.qZA()),2&n&&(u.xp6(2),u.Q6J("ngIf",!l.formSubmitted),u.xp6(1),u.Q6J("ngIf",l.formSubmitted))},dependencies:[s.mk,s.O5,t._Y,t.Fj,t.JJ,t.JL,t.sg,t.u,d.yS],styles:[".invalid-feedback[_ngcontent-%COMP%]{display:block;font-size:.875rem;color:#dc3545;margin-top:.25rem}"]}),e})()}];let N=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[d.Bz.forChild(U),d.Bz]}),e})(),z=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=u.oAB({type:e}),e.\u0275inj=u.cJS({imports:[s.ez,t.UX,c.m,d.Bz,N]}),e})()}}]);